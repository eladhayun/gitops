apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - namespace.yaml
  - configmap.yaml
  - statefulset.yaml
  - service.yaml
  - promtail-configmap.yaml
  - promtail-daemonset.yaml
  - serviceaccount.yaml
  # secrets-storage-generator.yaml - Managed manually via setup-storage.sh (not in GitOps)
  # ingress.yaml - Removed: Loki is accessed via Grafana UI, no external ingress needed

generators:
  - secrets-auth-generator.yaml  # SOPS-encrypted secrets (loki-auth and loki-azure-storage)
